2025-06-09 23:22:01 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:22:01 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:22:01 [OrderManagerTest] ERROR: Initialization failed: __init__() got an unexpected keyword argument 'data_manager'
2025-06-09 23:22:01 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:23:33 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:23:33 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:23:33 [OrderManagerTest] INFO: Initializing DataManager for BTCUSDT
2025-06-09 23:23:33 [OrderManagerTest] INFO: Server time: 2025-06-09 23:23:33
2025-06-09 23:23:33 [OrderManagerTest] INFO: Local time: 2025-06-09 23:23:33
2025-06-09 23:23:33 [OrderManagerTest] INFO: Time difference: -0.80 seconds
2025-06-09 23:23:33 [OrderManagerTest] INFO: Next 1m candle closes at: 2025-06-09 23:24:00
2025-06-09 23:23:33 [OrderManagerTest] INFO: Next 5m candle closes at: 2025-06-09 23:25:00
2025-06-09 23:23:33 [OrderManagerTest] INFO: Next 1h candle closes at: 2025-06-10 00:00:00
2025-06-09 23:23:33 [OrderManagerTest] INFO: Loading 2000 1m candles for BTCUSDT
2025-06-09 23:23:33 [OrderManagerTest] INFO: Fetching 2 batches of 1m klines
2025-06-09 23:23:35 [OrderManagerTest] INFO: Loaded 2000 1m klines
2025-06-09 23:23:35 [OrderManagerTest] INFO: Loading 1000 5m candles for BTCUSDT
2025-06-09 23:23:35 [OrderManagerTest] INFO: Fetching 1 batches of 5m klines
2025-06-09 23:23:36 [OrderManagerTest] INFO: Loaded 1000 5m klines
2025-06-09 23:23:36 [OrderManagerTest] INFO: Loading 200 1h candles for BTCUSDT
2025-06-09 23:23:36 [OrderManagerTest] INFO: Fetching 1 batches of 1h klines
2025-06-09 23:23:37 [OrderManagerTest] INFO: Loaded 200 1h klines
2025-06-09 23:23:37 [OrderManagerTest] INFO: Connecting to WebSocket at wss://stream-testnet.bybit.com/v5/public/linear
2025-06-09 23:23:37 [OrderManagerTest] INFO: Subscribed to topics: ['kline.1.BTCUSDT', 'kline.5.BTCUSDT', 'kline.60.BTCUSDT', 'tickers.BTCUSDT', 'publicTrade.BTCUSDT']
2025-06-09 23:23:37 [OrderManagerTest] INFO: WebSocket connected successfully
2025-06-09 23:23:37 [OrderManagerTest] INFO: DataManager initialization completed
2025-06-09 23:23:37 [OrderManagerTest] INFO: Initializing OrderManager for BTCUSDT
2025-06-09 23:23:37 [OrderManagerTest] INFO: Instrument precision - Price: 1 decimals, Quantity: 3 decimals
2025-06-09 23:23:38 [OrderManagerTest] INFO: No active positions
2025-06-09 23:23:38 [OrderManagerTest] INFO: No active orders
2025-06-09 23:23:38 [OrderManagerTest] INFO: OrderManager initialization completed
2025-06-09 23:23:38 [OrderManagerTest] INFO: Test environment initialized successfully
2025-06-09 23:23:38 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:23:38 [OrderManagerTest] INFO: Ticker: Last: 114685.3 - 24h Change: -0.095902%
2025-06-09 23:23:38 [OrderManagerTest] INFO: WebSocket connection closed
2025-06-09 23:23:38 [OrderManagerTest] WARNING: WebSocket connection closed
2025-06-09 23:23:38 [OrderManagerTest] WARNING: Reconnecting to WebSocket (attempt 1)
2025-06-09 23:27:41 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:27:41 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:27:41 [OrderManagerTest] INFO: Initializing DataManager for BTCUSDT
2025-06-09 23:27:42 [OrderManagerTest] INFO: Server time: 2025-06-09 23:27:42
2025-06-09 23:27:42 [OrderManagerTest] INFO: Local time: 2025-06-09 23:27:42
2025-06-09 23:27:42 [OrderManagerTest] INFO: Time difference: -0.05 seconds
2025-06-09 23:27:42 [OrderManagerTest] INFO: Next 1m candle closes at: 2025-06-09 23:28:00
2025-06-09 23:27:42 [OrderManagerTest] INFO: Next 5m candle closes at: 2025-06-09 23:30:00
2025-06-09 23:27:42 [OrderManagerTest] INFO: Next 1h candle closes at: 2025-06-10 00:00:00
2025-06-09 23:27:42 [OrderManagerTest] INFO: Loading 2000 1m candles for BTCUSDT
2025-06-09 23:27:42 [OrderManagerTest] INFO: Fetching 2 batches of 1m klines
2025-06-09 23:27:43 [OrderManagerTest] INFO: Loaded 2000 1m klines
2025-06-09 23:27:43 [OrderManagerTest] INFO: Loading 1000 5m candles for BTCUSDT
2025-06-09 23:27:43 [OrderManagerTest] INFO: Fetching 1 batches of 5m klines
2025-06-09 23:27:44 [OrderManagerTest] INFO: Loaded 1000 5m klines
2025-06-09 23:27:44 [OrderManagerTest] INFO: Loading 200 1h candles for BTCUSDT
2025-06-09 23:27:44 [OrderManagerTest] INFO: Fetching 1 batches of 1h klines
2025-06-09 23:27:45 [OrderManagerTest] INFO: Loaded 200 1h klines
2025-06-09 23:27:45 [OrderManagerTest] INFO: Connecting to WebSocket at wss://stream-testnet.bybit.com/v5/public/linear
2025-06-09 23:27:45 [OrderManagerTest] INFO: Subscribed to topics: ['kline.1.BTCUSDT', 'kline.5.BTCUSDT', 'kline.60.BTCUSDT', 'tickers.BTCUSDT', 'publicTrade.BTCUSDT']
2025-06-09 23:27:45 [OrderManagerTest] INFO: WebSocket connected successfully
2025-06-09 23:27:45 [OrderManagerTest] INFO: DataManager initialization completed
2025-06-09 23:27:45 [OrderManagerTest] INFO: Initializing OrderManager for BTCUSDT
2025-06-09 23:27:46 [OrderManagerTest] INFO: Instrument precision - Price: 1 decimals, Quantity: 3 decimals
2025-06-09 23:27:46 [OrderManagerTest] INFO: No active positions
2025-06-09 23:27:46 [OrderManagerTest] INFO: No active orders
2025-06-09 23:27:46 [OrderManagerTest] INFO: OrderManager initialization completed
2025-06-09 23:27:46 [OrderManagerTest] INFO: Test environment initialized successfully
2025-06-09 23:27:46 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:27:46 [OrderManagerTest] INFO: Ticker: Last: 115767.9 - 24h Change: -0.114994%
2025-06-09 23:27:46 [OrderManagerTest] INFO: WebSocket connection closed
2025-06-09 23:27:46 [OrderManagerTest] WARNING: WebSocket connection closed
2025-06-09 23:27:46 [OrderManagerTest] WARNING: Reconnecting to WebSocket (attempt 1)
2025-06-09 23:31:16 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:31:16 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:31:16 [OrderManagerTest] INFO: Initializing DataManager for BTCUSDT
2025-06-09 23:31:17 [OrderManagerTest] INFO: Server time: 2025-06-09 23:31:17
2025-06-09 23:31:17 [OrderManagerTest] INFO: Local time: 2025-06-09 23:31:17
2025-06-09 23:31:17 [OrderManagerTest] INFO: Time difference: -0.08 seconds
2025-06-09 23:31:17 [OrderManagerTest] INFO: Next 1m candle closes at: 2025-06-09 23:32:00
2025-06-09 23:31:17 [OrderManagerTest] INFO: Next 5m candle closes at: 2025-06-09 23:35:00
2025-06-09 23:31:17 [OrderManagerTest] INFO: Next 1h candle closes at: 2025-06-10 00:00:00
2025-06-09 23:31:17 [OrderManagerTest] INFO: Loading 2000 1m candles for BTCUSDT
2025-06-09 23:31:17 [OrderManagerTest] INFO: Fetching 2 batches of 1m klines
2025-06-09 23:31:19 [OrderManagerTest] INFO: Loaded 2000 1m klines
2025-06-09 23:31:19 [OrderManagerTest] INFO: Loading 1000 5m candles for BTCUSDT
2025-06-09 23:31:19 [OrderManagerTest] INFO: Fetching 1 batches of 5m klines
2025-06-09 23:31:19 [OrderManagerTest] INFO: Loaded 1000 5m klines
2025-06-09 23:31:19 [OrderManagerTest] INFO: Loading 200 1h candles for BTCUSDT
2025-06-09 23:31:19 [OrderManagerTest] INFO: Fetching 1 batches of 1h klines
2025-06-09 23:31:20 [OrderManagerTest] INFO: Loaded 200 1h klines
2025-06-09 23:31:20 [OrderManagerTest] INFO: Connecting to WebSocket at wss://stream-testnet.bybit.com/v5/public/linear
2025-06-09 23:31:21 [OrderManagerTest] INFO: Subscribed to topics: ['kline.1.BTCUSDT', 'kline.5.BTCUSDT', 'kline.60.BTCUSDT', 'tickers.BTCUSDT', 'publicTrade.BTCUSDT']
2025-06-09 23:31:21 [OrderManagerTest] INFO: WebSocket connected successfully
2025-06-09 23:31:21 [OrderManagerTest] INFO: DataManager initialization completed
2025-06-09 23:31:21 [OrderManagerTest] INFO: Initializing OrderManager for BTCUSDT
2025-06-09 23:31:21 [OrderManagerTest] INFO: Instrument precision - Price: 1 decimals, Quantity: 3 decimals
2025-06-09 23:31:21 [OrderManagerTest] INFO: No active positions
2025-06-09 23:31:21 [OrderManagerTest] INFO: No active orders
2025-06-09 23:31:21 [OrderManagerTest] INFO: OrderManager initialization completed
2025-06-09 23:31:21 [OrderManagerTest] INFO: Test environment initialized successfully
2025-06-09 23:31:21 [OrderManagerTest] INFO: Ticker: Last: 115601.1 - 24h Change: -0.120603%
2025-06-09 23:31:24 [OrderManagerTest] INFO: Shutting down test environment...
2025-06-09 23:31:24 [OrderManagerTest] INFO: Closing OrderManager...
2025-06-09 23:31:24 [OrderManagerTest] INFO: OrderManager closed
2025-06-09 23:31:24 [OrderManagerTest] INFO: Closing DataManager...
2025-06-09 23:31:24 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:31:24 [OrderManagerTest] INFO: Candle timer cancelled
2025-06-09 23:31:25 [OrderManagerTest] INFO: WebSocket connection closed
2025-06-09 23:31:25 [OrderManagerTest] INFO: DataManager closed
2025-06-09 23:31:25 [OrderManagerTest] INFO: Shutdown complete
2025-06-09 23:31:25 [OrderManagerTest] WARNING: WebSocket connection closed
2025-06-09 23:31:25 [OrderManagerTest] WARNING: Reconnecting to WebSocket (attempt 1)
2025-06-09 23:34:00 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:34:00 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:34:00 [OrderManagerTest] INFO: Initializing DataManager for BTCUSDT
2025-06-09 23:34:00 [OrderManagerTest] INFO: Server time: 2025-06-09 23:34:00
2025-06-09 23:34:00 [OrderManagerTest] INFO: Local time: 2025-06-09 23:34:00
2025-06-09 23:34:00 [OrderManagerTest] INFO: Time difference: -0.31 seconds
2025-06-09 23:34:00 [OrderManagerTest] INFO: Next 1m candle closes at: 2025-06-09 23:35:00
2025-06-09 23:34:00 [OrderManagerTest] INFO: Next 5m candle closes at: 2025-06-09 23:35:00
2025-06-09 23:34:00 [OrderManagerTest] INFO: Next 1h candle closes at: 2025-06-10 00:00:00
2025-06-09 23:34:00 [OrderManagerTest] INFO: Loading 2000 1m candles for BTCUSDT
2025-06-09 23:34:00 [OrderManagerTest] INFO: Fetching 2 batches of 1m klines
2025-06-09 23:34:02 [OrderManagerTest] INFO: Loaded 2000 1m klines
2025-06-09 23:34:02 [OrderManagerTest] INFO: Loading 1000 5m candles for BTCUSDT
2025-06-09 23:34:02 [OrderManagerTest] INFO: Fetching 1 batches of 5m klines
2025-06-09 23:34:02 [OrderManagerTest] INFO: Loaded 1000 5m klines
2025-06-09 23:34:02 [OrderManagerTest] INFO: Loading 200 1h candles for BTCUSDT
2025-06-09 23:34:02 [OrderManagerTest] INFO: Fetching 1 batches of 1h klines
2025-06-09 23:34:03 [OrderManagerTest] INFO: Loaded 200 1h klines
2025-06-09 23:34:03 [OrderManagerTest] INFO: Connecting to WebSocket at wss://stream-testnet.bybit.com/v5/public/linear
2025-06-09 23:34:04 [OrderManagerTest] INFO: Subscribed to topics: ['kline.1.BTCUSDT', 'kline.5.BTCUSDT', 'kline.60.BTCUSDT', 'tickers.BTCUSDT', 'publicTrade.BTCUSDT']
2025-06-09 23:34:04 [OrderManagerTest] INFO: WebSocket connected successfully
2025-06-09 23:34:04 [OrderManagerTest] INFO: DataManager initialization completed
2025-06-09 23:34:04 [OrderManagerTest] INFO: Initializing OrderManager for BTCUSDT
2025-06-09 23:34:04 [OrderManagerTest] INFO: Instrument precision - Price: 1 decimals, Quantity: 3 decimals
2025-06-09 23:34:04 [OrderManagerTest] INFO: No active positions
2025-06-09 23:34:04 [OrderManagerTest] INFO: No active orders
2025-06-09 23:34:04 [OrderManagerTest] INFO: OrderManager initialization completed
2025-06-09 23:34:04 [OrderManagerTest] INFO: Test environment initialized successfully
2025-06-09 23:34:04 [OrderManagerTest] INFO: Ticker: Last: 116126.4 - 24h Change: -0.139273%
2025-06-09 23:34:06 [OrderManagerTest] INFO: Shutting down test environment...
2025-06-09 23:34:06 [OrderManagerTest] INFO: Closing OrderManager...
2025-06-09 23:34:06 [OrderManagerTest] INFO: OrderManager closed
2025-06-09 23:34:06 [OrderManagerTest] INFO: Closing DataManager...
2025-06-09 23:34:06 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:34:06 [OrderManagerTest] INFO: Candle timer cancelled
2025-06-09 23:34:07 [OrderManagerTest] WARNING: WebSocket connection closed
2025-06-09 23:34:07 [OrderManagerTest] INFO: Skipping WebSocket reconnection during shutdown
2025-06-09 23:34:07 [OrderManagerTest] INFO: WebSocket connection closed
2025-06-09 23:34:07 [OrderManagerTest] INFO: DataManager closed
2025-06-09 23:34:07 [OrderManagerTest] INFO: Cancelling any remaining tasks...
2025-06-09 23:34:07 [OrderManagerTest] INFO: Shutdown complete
2025-06-09 23:42:07 [OrderManagerTest] INFO: Initializing OrderManager test environment
2025-06-09 23:42:07 [OrderManagerTest] INFO: Using API key: pfL5a...49rIy (testnet=True)
2025-06-09 23:42:07 [OrderManagerTest] INFO: Initializing DataManager for BTCUSDT
2025-06-09 23:42:07 [OrderManagerTest] INFO: Server time: 2025-06-09 23:42:07
2025-06-09 23:42:07 [OrderManagerTest] INFO: Local time: 2025-06-09 23:42:07
2025-06-09 23:42:07 [OrderManagerTest] INFO: Time difference: -0.67 seconds
2025-06-09 23:42:07 [OrderManagerTest] INFO: Next 1m candle closes at: 2025-06-09 23:43:00
2025-06-09 23:42:07 [OrderManagerTest] INFO: Next 5m candle closes at: 2025-06-09 23:45:00
2025-06-09 23:42:07 [OrderManagerTest] INFO: Next 1h candle closes at: 2025-06-10 00:00:00
2025-06-09 23:42:07 [OrderManagerTest] INFO: Loading 2000 1m candles for BTCUSDT
2025-06-09 23:42:07 [OrderManagerTest] INFO: Fetching 2 batches of 1m klines
2025-06-09 23:42:09 [OrderManagerTest] INFO: Loaded 2000 1m klines
2025-06-09 23:42:09 [OrderManagerTest] INFO: Loading 1000 5m candles for BTCUSDT
2025-06-09 23:42:09 [OrderManagerTest] INFO: Fetching 1 batches of 5m klines
2025-06-09 23:42:10 [OrderManagerTest] INFO: Loaded 1000 5m klines
2025-06-09 23:42:10 [OrderManagerTest] INFO: Loading 200 1h candles for BTCUSDT
2025-06-09 23:42:10 [OrderManagerTest] INFO: Fetching 1 batches of 1h klines
2025-06-09 23:42:11 [OrderManagerTest] INFO: Loaded 200 1h klines
2025-06-09 23:42:11 [OrderManagerTest] INFO: Connecting to WebSocket at wss://stream-testnet.bybit.com/v5/public/linear
2025-06-09 23:42:11 [OrderManagerTest] INFO: Subscribed to topics: ['kline.1.BTCUSDT', 'kline.5.BTCUSDT', 'kline.60.BTCUSDT', 'tickers.BTCUSDT', 'publicTrade.BTCUSDT']
2025-06-09 23:42:11 [OrderManagerTest] INFO: WebSocket connected successfully
2025-06-09 23:42:11 [OrderManagerTest] INFO: DataManager initialization completed
2025-06-09 23:42:11 [OrderManagerTest] INFO: Initializing OrderManager for BTCUSDT
2025-06-09 23:42:12 [OrderManagerTest] INFO: Instrument precision - Price: 1 decimals, Quantity: 3 decimals
2025-06-09 23:42:12 [OrderManagerTest] INFO: No active positions
2025-06-09 23:42:12 [OrderManagerTest] INFO: No active orders
2025-06-09 23:42:12 [OrderManagerTest] INFO: OrderManager initialization completed
2025-06-09 23:42:12 [OrderManagerTest] INFO: Test environment initialized successfully
2025-06-09 23:42:12 [OrderManagerTest] INFO: ============================================================
2025-06-09 23:42:12 [OrderManagerTest] INFO: STARTING ORDER MANAGER TESTING
2025-06-09 23:42:12 [OrderManagerTest] INFO: Test Date: 2025-06-09 13:42:12 UTC
2025-06-09 23:42:12 [OrderManagerTest] INFO: ============================================================
2025-06-09 23:42:12 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:12 [OrderManagerTest] INFO: TESTING: Position Status
2025-06-09 23:42:12 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:12 [OrderManagerTest] ERROR: Position status test failed: 'OrderManager' object has no attribute 'get_positions'
2025-06-09 23:42:12 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:12 [OrderManagerTest] INFO: Ticker: Last: 117308.7 - 24h Change: -0.168023%
2025-06-09 23:42:12 [OrderManagerTest] INFO: Ticker: Last: 117270.0 - 24h Change: -0.168297%
2025-06-09 23:42:14 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:14 [OrderManagerTest] INFO: TESTING: Position Sizing
2025-06-09 23:42:14 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:14 [OrderManagerTest] ERROR: Position sizing test failed: get_latest_price() takes 1 positional argument but 2 were given
2025-06-09 23:42:14 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:16 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:16 [OrderManagerTest] INFO: TESTING: Market Buy Order
2025-06-09 23:42:16 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:16 [OrderManagerTest] ERROR: Market buy test failed: 'OrderManager' object has no attribute 'calculate_position_size'
2025-06-09 23:42:16 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:18 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:18 [OrderManagerTest] INFO: TESTING: Market Sell Order
2025-06-09 23:42:18 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:18 [OrderManagerTest] ERROR: Market sell test failed: 'OrderManager' object has no attribute 'calculate_position_size'
2025-06-09 23:42:18 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:20 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:20 [OrderManagerTest] INFO: TESTING: Limit Buy Order
2025-06-09 23:42:20 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:20 [OrderManagerTest] ERROR: Limit buy test failed: get_latest_price() takes 1 positional argument but 2 were given
2025-06-09 23:42:20 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:22 [OrderManagerTest] INFO: Ticker: Last: 117308.7 - 24h Change: -0.168023%
2025-06-09 23:42:22 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:22 [OrderManagerTest] INFO: TESTING: Limit Sell Order
2025-06-09 23:42:22 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:22 [OrderManagerTest] ERROR: Limit sell test failed: get_latest_price() takes 1 positional argument but 2 were given
2025-06-09 23:42:22 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:24 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:24 [OrderManagerTest] INFO: TESTING: Take Profit Order
2025-06-09 23:42:24 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:24 [OrderManagerTest] ERROR: Take profit test failed: 'OrderManager' object has no attribute 'calculate_position_size'
2025-06-09 23:42:24 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:26 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:26 [OrderManagerTest] INFO: TESTING: Stop Loss Order
2025-06-09 23:42:26 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:26 [OrderManagerTest] ERROR: Stop loss test failed: 'OrderManager' object has no attribute 'get_positions'
2025-06-09 23:42:26 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:28 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:28 [OrderManagerTest] INFO: TESTING: Cancel Orders
2025-06-09 23:42:28 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:28 [OrderManagerTest] ERROR: Cancel order test failed: get_latest_price() takes 1 positional argument but 2 were given
2025-06-09 23:42:28 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:30 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:30 [OrderManagerTest] INFO: TESTING: Close Position
2025-06-09 23:42:30 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:30 [OrderManagerTest] ERROR: Close position test failed: 'OrderManager' object has no attribute 'calculate_position_size'
2025-06-09 23:42:30 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:32 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:32 [OrderManagerTest] INFO: TESTING: Risk Management
2025-06-09 23:42:32 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:32 [OrderManagerTest] ERROR: Risk management test failed: 'OrderManager' object has no attribute 'get_account_balance'
2025-06-09 23:42:32 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:34 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:34 [OrderManagerTest] INFO: TESTING: Order Tracking
2025-06-09 23:42:34 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:34 [OrderManagerTest] ERROR: Order tracking test failed: 'OrderManager' object has no attribute 'calculate_position_size'
2025-06-09 23:42:34 [OrderManagerTest] INFO: Result: ❌ FAIL
2025-06-09 23:42:36 [OrderManagerTest] INFO: 
==================================================
2025-06-09 23:42:36 [OrderManagerTest] INFO: TESTING: Error Handling
2025-06-09 23:42:36 [OrderManagerTest] INFO: ==================================================
2025-06-09 23:42:36 [OrderManagerTest] INFO: Testing invalid symbol handling
2025-06-09 23:42:36 [OrderManagerTest] INFO: Invalid symbol error handled: place_market_order() got an unexpected keyword argument 'qty'
2025-06-09 23:42:36 [OrderManagerTest] INFO: Testing invalid quantity handling
2025-06-09 23:42:36 [OrderManagerTest] INFO: Invalid quantity error handled: place_market_order() got an unexpected keyword argument 'qty'
2025-06-09 23:42:36 [OrderManagerTest] INFO: Testing invalid order ID handling
2025-06-09 23:42:36 [OrderManagerTest] INFO: Invalid order ID error handled: get_order_status() got an unexpected keyword argument 'symbol'
2025-06-09 23:42:36 [OrderManagerTest] INFO: Result: ✅ PASS
2025-06-09 23:42:38 [OrderManagerTest] INFO: 
============================================================
2025-06-09 23:42:38 [OrderManagerTest] INFO: ORDER MANAGER TEST REPORT
2025-06-09 23:42:38 [OrderManagerTest] INFO: ============================================================
2025-06-09 23:42:38 [OrderManagerTest] INFO: Total Tests: 13
2025-06-09 23:42:38 [OrderManagerTest] INFO: Passed: 1 ✅
2025-06-09 23:42:38 [OrderManagerTest] INFO: Failed: 12 ❌
2025-06-09 23:42:38 [OrderManagerTest] INFO: Errors: 0 ⚠️
2025-06-09 23:42:38 [OrderManagerTest] INFO: Success Rate: 7.7%
2025-06-09 23:42:38 [OrderManagerTest] INFO: 
Detailed Results:
2025-06-09 23:42:38 [OrderManagerTest] INFO: ------------------------------------------------------------
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Position Status: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Position Sizing: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Market Buy Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Market Sell Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Limit Buy Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Limit Sell Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Take Profit Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Stop Loss Order: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Cancel Orders: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Close Position: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Risk Management: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ❌ Order Tracking: FAIL
2025-06-09 23:42:38 [OrderManagerTest] INFO: ✅ Error Handling: PASS
2025-06-09 23:42:38 [OrderManagerTest] INFO: 
Detailed report saved to: order_manager_test_report_20250609_234238.json
2025-06-09 23:42:38 [OrderManagerTest] INFO: 
❌ Multiple test failures. OrderManager needs fixes before use.
2025-06-09 23:42:38 [OrderManagerTest] INFO: Shutting down test environment...
2025-06-09 23:42:38 [OrderManagerTest] INFO: Closing OrderManager...
2025-06-09 23:42:38 [OrderManagerTest] INFO: OrderManager closed
2025-06-09 23:42:38 [OrderManagerTest] INFO: Closing DataManager...
2025-06-09 23:42:38 [OrderManagerTest] INFO: Closing DataManager connections
2025-06-09 23:42:38 [OrderManagerTest] INFO: Candle timer cancelled
2025-06-09 23:42:38 [OrderManagerTest] INFO: WebSocket connection closed
2025-06-09 23:42:38 [OrderManagerTest] WARNING: WebSocket connection closed
2025-06-09 23:42:38 [OrderManagerTest] INFO: Skipping WebSocket reconnection during shutdown
2025-06-09 23:42:39 [OrderManagerTest] INFO: DataManager closed
2025-06-09 23:42:39 [OrderManagerTest] INFO: Cancelling any remaining tasks...
2025-06-09 23:42:39 [OrderManagerTest] INFO: Shutdown complete
